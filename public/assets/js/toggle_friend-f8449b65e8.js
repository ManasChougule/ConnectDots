class ToggleFriend{constructor(e){this.toggleFriendBtn=e,this.toggleFriend()}toggleFriend(){$(this.toggleFriendBtn).click((function(e){e.preventDefault();let t=this,a=$(t).data("action");$.ajax({type:"GET",url:$(t).attr("href")+`&action=${a}`}).done((function(e){!0===e.data.deleted?$(t).html("Add Friend").data("action","add").removeClass("btn-outline-danger").addClass("btn-outline-success"):!1===e.data.deleted?("add"===a&&1===e.data.flag&&$(t).html("Pending"),"remove"===a&&0===e.data.flag&&$(t).html("Add Friend").data("action","add").removeClass("btn-outline-danger").addClass("btn-outline-success")):1===e.data.closeFriendDeleted?$(t).html("Add").data("action","add").removeClass("btn-outline-danger").addClass("btn-outline-success"):0===e.data.closeFriendDeleted&&$(t).html("Remove").data("action","remove").removeClass("btn-outline-success").addClass("btn-outline-danger"),setTimeout((()=>{location.reload()}),400)})).fail((function(e){console.error("Error in AJAX request:",e)}))}))}}